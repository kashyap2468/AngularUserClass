<div class="panel panel-primary">
    <div class="panel-heading">
        {{ title }}
    </div>
    <div class="panel-body">
        <form [formGroup]="angForm" novalidate>
            <div class="form-group">
                <label class="col-md-4">User Name</label>
                <input type="text" class="form-control" formControlName="username" #username [(ngModel)]="user.username"/>
            </div>
            <div *ngIf="angForm.controls['username'].invalid && (angForm.controls['username'].dirty || angForm.controls['username'].touched)"
                 class="alert alert-danger">
                <div *ngIf="angForm.controls['username'].errors.required">
                    Username is required.
                </div>
            </div>
            <div class="form-group">
                <label class="col-md-4">User Email</label>
                <input type="email" class="form-control" formControlName="useremail" #useremail email [(ngModel)]="user.useremail"/>
            </div>
            <!--<div *ngIf="angForm.controls['useremail'].invalid && (angForm.controls['useremail'].dirty || angForm.controls['useremail'].touched)"
                 class="alert alert-danger">
                <div *ngIf="angForm.controls['useremail'].errors.required">
                    Email is required.
                </div>
            </div>-->
            <div *ngIf="useremail.value !== '' && (angForm.controls['useremail'].invalid && (angForm.controls['useremail'].dirty || angForm.controls['useremail'].untouched))" class="alert alert-danger">
                Please enter an email
            </div>
            <div class="form-group">
                <button (click)="updateUser(username.value, useremail.value)" [disabled]="angForm.pristine || angForm.invalid"
                        class="btn btn-primary">Update
                </button>
            </div>
        </form>
    </div>
</div>
